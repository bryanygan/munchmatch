
/**/

const imageSearch = require('image-search-google');

const client = new imageSearch('871c638868f774743', 'AIzaSyB6TGVlNYYLaaQbtqiTb8vth7TOCvE2shI');
const options = { page: 1, size: 'large' };

const fs = require('fs');
let promises = [];
let links = [];
// let foods = ["Mango Sticky Rice", "Ärtsoppa", "Takoyaki", "Taro Ball Dessert", "Gaeng Keow Wan", "Coq au Vin", "Kedgeree", "Pastitsio", "Andijviestamppot", "Haemul Pajeon", "Amala", "Fattoush", "Curry", "Japchae", "Gumbo", "Lamingtons", "Erwtensoep", "Khao Soi", "Dobos Torte", "Manakish"];
// let foods = ["Stuffed Grape Leaves","Curry","Falafel","Loco Moco","Malu Paan","Moqueca","Goiabada","Burritos","Sweet Dumplings","Smörgåstårta","Khanom Mo Kaeng","Koshari","Clootie Dumpling","Masala Dosa","Stroopwafel","Cheesecake","Som Tum","Arbroath Smokie","Dutch Apple Pie","Moo Ping"]
let foods = ["StuffedGrapeLeaves","Curry","Falafel","LocoMoco","MaluPaan","Moqueca","Goiabada","Burritos","SweetDumplings","Smörgåstårta","KhanomMoKaeng","Koshari","ClootieDumpling","MasalaDosa","Stroopwafel","Cheesecake","SomTum","ArbroathSmokie","DutchApplePie","MooPing","Guacamole","Ratatouille","JerkChicken","Leitão","ScotchPie","PalmNutSoup","ApamBalik","RumBalls","LoMaiGai","Keftedes","SloppyJoe","ChickenFriedSteak","Tabbouleh","TempuraRoll","Kibbeh","Muffuletta","BeefMassamanCurry","Banku","Milanesas","Salpicón","Lukanka","Gyros","Kushari","PãodeQueijo","Hutspot","MushroomRisotto","KhaoNiaoMamuang","KhaoLam","SpaghettiBolognese","BeefBourguignon","Challah","ArrozCaldo","Matambre","Mana'eesh","JamaicanPatty","Bacalhau�Brás","Paris-Brest","DakGalbi","Amala","CajunShrimpandRice","TortillaEspañola","BlackForestCake","BeefPanaeng","HotPot","Cranachan","Mansaf","Gulasch","Palacsinta","StickyToffeePudding","ClamChowder","TacosdeTripa","RotiCanai","Jalebi","BananasFoster","Succotash","Jaffas","Jambalaya","Yassa","Briouat","Malasadas","SaltfishAccras","Kimbap","GulabJamun","Msemmen","Poutine","TurkishDelight","Monaka","CoqauVin","Pozole","Moutabal","Doubles","Hangi","Burrito","HarGow","Leberkäse","Kunafa","Räkmacka","Rouladen","Käsespätzle","Beer","Mutabbaq","Biryani","Erwtensoep","BoeufBourguignon","BagelsandLox","MexicanPizza","Lohikeitto","HainaneseChickenRice","Qatayef","Hagelslag","BanoffeePie","Baklava","Halászlé","TacosalPastor","Sandesh","ChickenAdobo","Cozido�Portuguesa","PecanPie","PokeBowl","NeapolitanPizza","FlygandeJakob","PepperoniPizza","SlovakCabbageSoup","Fiskegratäng","Makroud","KönigsbergerKlopse","Thieboudienne","Haring","Takoyaki","SpringRolls","Maklouba","Kartoffelsalat","MargheritaPizza","Po'BoySandwich","Shakshuka","Tostadas","BakeandSaltfish","Tempeh","Raclette","Rasmalai","Ondeh-Ondeh","CajunGumbo","CapreseSalad","Larb","TacosdeChorizo","ArrozconLeche","MangoPudding","Faluda","Gui","BarbecueShrimp","OysterOmelette","HawaiianPizza","CheungFun","Musakhan","ReubenSandwich","Shortbread","Babka","Balti","Sambar","StampandGo","EggsBenedict","Tiramisu","Pelau","GundelPalacsinta","ApplePie","Zenzai","Bammy","Shepherd'sPie","TomYum","ChickenShawarma","Cendol","Ohagi","Jajangmyeon","Halo-Halo","BeefWellington","KhaoNiaowMaMuang","Pavlova","Chilaquiles","KorvStroganoff","PulledPork","PimentoCheese","Taho","Matcha","CullenSkink","Gazpacho","Chimichurri","Madeleines","Lángos","Mechoui","Tonkatsu","Onigiri","Tompoes","ChickenSatay","Poronkäristys","Tajine","Kottu","PalakPaneer","KhaoSoi","MatzoBallSoup","Salsa","Mahalabia","Croquetas","Mahshi","BeefRendang","NianGao","Borscht","Natto","Fungi","BakewellTart","GoiGa","Gizadas","Kadayif","RedRed","Éclairs","BullaCake","AlooGobi","Douhua","Pisto","IkanBakar","Baleadas","CochinitaPibil","Kebab","Shrikhand","Gravadlax","PoundedYam","CajunChickenAlfredo","Calzone","PhiladelphiaRoll","LobsterThermidor","BunnyChow","MolePoblano","Fatayer","Moussaka","RedVelvetCake","Zaalouk","Langos","ShawarmaWrap","Börek","Fondue","GâteauOpéra","CurryDuckna","Rugelach","Soupe�l'OignonGratinée","BabaGhanoush","Kedgeree","AjideGallina","SagoGulaMelaka","Imagawayaki","Tempura","TacosdeSurtido","SpamMusubi","Halawatal-Jibn","Polos","Boudin","Roti","KingCake","SesameBalls","Lutefisk","Pupusas","Rendang","KaiMedMaMuang","Profiteroles","Spätzle","BreadPudding","Makroudh","Mbesses","TöltöttKáposzta","BreakfastPizza","TreacleTart","Pandeshi","Udon","Borek","RiceandCurry","NamTok","Palt","Bitterballen","CurriedGoat","Laksa","Ochazuke","Andijviestamppot","Congee","HokeyPokeyIceCream","StinkyTofu","LambBiryani","Cholent","Roly-PolyPudding","KaiJeow","Prinsesstårta","ItalianBeefSandwich","CaramelSlice","Blodpudding","Hummus","PlaRadPrik","SorrelDrink","Torrone","Francesinha","Atolillo","BakmiGoreng","BobaMilkTea","CajunPorkChops","SelskoMeso","Macarons","ChickenParmesan","HariraSoup","Latkes","Callaloo","Bündnerfleisch","CajunJambalaya","Kanafeh","Fufu","SpiderRoll","Goulash","CajunRedBeansandRice","CharSiuBao","SeekhKebab","Falukorv","BandejaPaisa","TomYumGoong","Sashimi","ScallionPancakes","CrèmeCaramel","CoconutIce","CrèmeBrûlée","Risotto","ButterChicken","Galbi","VictoriaSponge","BeefStroganoff","ChanaMasala","Elote","Sorbetes","PassionfruitPavlova","SweetandSourPork","LarbGai","Kenkey","Tiramisu","MakiSushiRolls","Akara","Sfogliatelle","Semla","Rabri","Kaiserschmarrn","PineappleCake","Fattoush","Harira","Quesadillas","TarteTatin","LempengPisang","MishtiDoi","Rakia","Luqmatal-Qadi","ScallionPancake","MangoStickyRice","YamNua","CrawfishÉtouffée","Mille-feuille","JollofRice","FriedChicken","TulumbaTatlısı","TacosdeAsada","Caldeirada","PabellónCriollo","Machboos","BLTSandwich","Gumbo","GrilledCheeseSandwich","FalafelSandwich","ChicagoDeepDishPizza","LobsterRoll","Natillas","LukChup","MonteCristoSandwich","TamalesdeElote","SeriMuka","LomoSaltado","Bouillabaisse","Milanesa","Firfir","Po'Boy","SpottedDick","ShrimpCreole","TacosdeCecina","VeggieBurrito","CubanoSandwich","Taramasalata","TacosdeCachete","Pho","CountryHam","Manti","BanhXeo","KimchiJjigae","KuihLapis","RoganJosh","Saimin","Sawine","GoiCuon","DoroWot","CajunPorkChops","Lamingtons","Sapin-Sapin","FourSeasonsPizza","Kürtőskalács","TimTamSlams","Shoko","Renskav","FishandChips","TurnipCakes","FriedRice","TaiwaneseBeefNoodleSoup","Kofta","Arepas","ChessPie","Brownies","NeenishTarts","TacosdeSuadero","CabbageRolls","Samgyeopsal","Strudel","RiceandPeas","KhanomChan","CevizliSucuk","Bruschetta","Meatloaf","BeefCarpaccio","Kiribath","Samosa","Esquites","Kitfo","Garri","TacosdeBirria","Kare-Kare","NaanBread","PumpkinPie","ShahiTukda","Currywurst","RoastBeef","Bingsu","Cheeseburger","Munkki","SalzburgNockerl","MeatLoversPizza","LecheFlan","Tteokbokki","Injera","Sirene","CrepesSuzette","Lebkuchen","TehTarik","Vada","Karjalanpiirakka","OmoTuo","TacosdeCamarones","AyamBakar","PhatSi-io","Mekitsi","Watalappam","GalloPinto","Pannenkoek","MooNamTok","Puff-Puff","JanssonsFrestelse","Suya","BánhMì","Malawach","Inlagdsill","Nihari","Baguettes","ShrimpandGrits","Fatteh","Hamburger","Loukoumades","Falooda","WienerSchnitzel","Surströmming","TaroBallDessert","Nachos","MassamanCurry","CaldoVerde","ChongqingChicken","Dango","EnchiladasSuizas","Tibs","CaliforniaRoll","PofPof","GambasalAjillo","PadKrapowMoo","KhanomJeen","Ravioli","Attieke","Arancini","Mujaddara","YogurtwithHoneyandWalnuts","Basundi","EgusiSoup","SiuMai","Goulash","Bastilla","Anpan","Brigadeiro","BanhMi","Picada","Ossobuco","OssoBuco","Taiyaki","BeefPatties","Brigadeiros","Panini","Saganaki","Msemen","KaisekiRyori","Madfoon","TokajiWine","ZureHaring","DimSum","CholeBhature","Kapsalon","BiscuitsandGravy","SomTam","FairyBread","Kuzumochi","Köttbullar","PadThai","TacosalPastor","ChocolateChipCookies","Idli","PaneerTikka","Pitepalt","GarnaalKroketten","HungarianGoulash","BunCha","BuburAyam","AyamGoreng","CollardGreens","MisoSoup","Eintopf","TacosdeLengua","RedBeansandRice","Escargots","KhaoManGai","ArrozdePato","TeriyakiChicken","Yakitori","RisottoallaMilanese","GreenCurry","TacosdeBistec","BrisketSandwich","Poffertjes","GhormehSabzi","Tamales","Kedjenou","ScotchEggs","Souvlaki","Ärtsoppa","ANZACBiscuits","RyeBread","Zongzi","BircherMuesli","Clafoutis","Sushi","PatatasBravas","Bulgogi","LaoPoBing","PisangGoreng","CaoLau","Lecso","Empanadas","NasiPadang","CajunDirtyRice","Jachnun","PadThai","PiriPiriChicken","TojásosNokedli","MinestroneSoup","BiancaPizza","SchwarzwälderKirschtorte","IdliSambar","CajunBlackenedFish","Smörgåsbord","TacosdePollo","Fajitas","Kibbeling","Trifle","Ramen","DobosTorte","MangoStickyRice","Sukiyaki","Knishes","BagnaCauda","Kataifi","Kolbász","ChickenSaladSandwich","TresLechesCake","Stovies","Vendace","Tarator","CurryLaksa","Gizzada","PekingDuck","PannaCotta","PhillyCheesesteak","Mandi","Banitsa","Sill","Xiaolongbao","CarrotCake","EcclesCakes","MoleSauce","KoreanBBQ","Pastitsio","GreekPizza","Lamingtons","Maafe","PulutHitam","GnocchiallaSorrentina","Apfelkuchen","Gravlax","DanTat","Souse","MousseauChocolat","Barfi","Kavarma","EggSaladSandwich","Affogato","KaoMokGai","UmmAli","Albondigas","OxtailStew","Haleem","Torta","PasteldeNata","Lamprais","Lontong","BabiGuling","FrangoPiri-Piri","BunBoHue","Gyro","Sakuramochi","RainbowRoll","Tagine","Frikandel","PaprikásCsirke","Dolmades","PotRoast","Kumara","MaluPaan","InjerawithWat","PhoXao","Rujak","GyroSandwich","Knafeh","Japchae","LingonberryJam","Churros","Shawarma","Koshary","Curtido","Pizza","Elotes","TwiceCookedPork","Mooncakes","TurkeyClubSandwich","Croquembouche","Soto","FeijãoTropeiro","Maqluba","SacherTorte","RumCake","NasiLemak","JerkChicken","Brezel","BulgarianYogurt","BombayAloo","Maultaschen","Coxinha","KatsuCurry","RaselHanout","KhanomJeenNamYa","SpaghettialleVongole","SopadeRes","Apfelstrudel","Fisherman'sSoup","EscovitchFish","Enchiladas","KaoPad","Martabak","PãodeAçúcar","OystersRockefeller","YerbaMate","Mulukhiyah","EggTarts","Turon","Yakisoba","Hernekeitto","Grits","Picadillo","FrenchDipSandwich","ScottishSalmon","Zhajiangmian","BakedAlaska","Croissants","Warbat","Dolma","Pepperpot","TahuTelur","VeggieSandwich","Ceviche","ShopskaSalad","FishAmbulThiyal","Eisbein","Panzanella","JianDui","PulledPorkSandwich","TacosdeBarbacoa","DragonRoll","Turrón","Dal","Sangkhaya","Sfiha","KiwiBurger","GuaBao","TunaSaladSandwich","Bienenstich","Pannekoek","Pancit","KaluaPork","Bratkartoffeln","EfoRiro","Biko","HaemulPajeon","Bibimbap","Oden","CalypsoRice","RakottKrumpli","BanhCuon","Ful","PlaRa","BuburChaCha","Rijsttafel","Sambol","BabiPanggang","NigiriSushi","Quindim","Xiaochi","ChilesRellenos","Brisket","Dorayaki","MapoTofu","Cook-UpRice","Kroket","CajunCornbread","CurryGoat","TúrósCsusza","Kelewele","SushiRolls","Lumpia","Gelato","Gado-Gado","BBQChickenPizza","PistachioBaklava","QuicheLorraine","Semla","Feijoada","FriedOkra","ChilesenNogada","KhaoKlukKapi","Sabich","BeefVindaloo","Kugel","Yakiniku","FriedCatfish","Pastilla","Sauerbraten","Schnitzel","Bratwurst","PickledHerring","Mole","BakeandShark","CullenSkink","ConchSalad","Kartoffelkloesse","Shiro","Catfish","Mochi","Chè","Tunnbrödsrulle","Klepon","MeatballSub","Egusi","Financiers","Stamppot","Paella","Chibuaquidas","BulgarianCheese","Beignets","FriedGreenTomatoes","ChichaMorada","Meatballs","Mustikkapiirakka","AckeeandSaltfish","Rivella","WhitebaitFritters","LambVindaloo","Sinigang","Galaktoboureko","ChowMein","AguaFresca","Manakish","Chirashizushi","Baobing","CaKhoTo","Escargot","SopadeMariscos","Laab","NasiCampur","TandooriChicken","Yokan","TamaldeDulce","MoinMoin","FabadaAsturiana","Tacos","ZürcherGeschnetzeltes","SohanHalwa","PineappleTarts","TacosdePescado","NasiGoreng","GreekSalad","MoroccanCouscous","Flan","Muhallebi","Panettone","BubbleTea","BangaSoup","CheeseFondue","GaengDaeng","SundubuJjigae","SvenskaKöttbullar","Kalops","Chermoula","SütlüNuriye","DulcedeLeche","ChickenTikkaMasala","Kulfi","DimSum","CajunFriedChicken","EtonMess","MintTea","Satay","Tajine","CoconutCandy","Bakso","Lyutenitsa","LuRouFan","MangoShavedIce","Chinchinga","Scones","Waakye","Pasta","Haupia","Rösti","CroqueMonsieur","Pierogi","TacosdePastor","Koshari","Kunefe","PeachCobbler","KuihKodok","PãocomChouriço","Karjalanpaisti","TomKhaGai","FlatWhite","CapricciosaPizza","DynamiteRoll","TacosdeCabeza","Brezeln","Chebakia","Alfajores","PaprikaChicken","Biscotti","Loukoumades","Samosas","Cajeta","Soba","KhaoPad","Pavlova","CausaRellena","Sushi","Lasagna","Buñuelos","LinzerTorte","Okonomiyaki","Couscous","Kimchi","Smørrebrød","HushPuppies","Revani","KeyLimePie","Nigiri","Ostkaka","VegetarianPizza","Lahmacun","Donauwelle","ShkembeChorba","ChileRelleno","ArrozDoce","Harees","ChiliconCarne","Tzatziki","PadKrapow","Chimichangas","KungPaoChicken","Cannoli","Sekerpare","Bobotie","FulMedames","SichuanHotpot","SpicyTunaRoll","KluayBuatChi","HortobágyiPalacsinta","PizzaMargherita","GaengKeowWan","Churrasco","RiceandCurry","Pretzels","Asado","KiseloMlyako","AndouilleSausage","TacosdeCarnitas","LambRoganJosh","Pörkölt","Bab�","Sarmi","PapayaSalad","ComTam","SopadePedra","BoiledPeanuts","YorkshirePudding","Jianbing","Sauerkraut","MincePie","Sambal","NewYork-StylePizza","Hushpuppies","SalmonAvocadoRoll","Salmiakki","GajjarHalwa","Rghaif","CornishPasty","MeshanaSkara","PadSeeEw","Tofu","ChickenKorma","BrunswickStew","Dosa","BenarasiPaan","Choripán","Cocadas","Haggis","Gado-gado","ÎleFlottante","ZnoudElSit","Hoppers","Wienerschnitzel","Kalakukko","GeneralTso'sChicken","SourCherrySoup","Horchata","Patacones","CauCau","Kebapche","Tanghulu","Daifuku","Shabu-Shabu","Shakshouka","TungThong","Naan","Crêpes","Tequeños","Spanakopita",]

// let imagesLines = fs.readFile("images.txt")
let imagesLines = fs.readFileSync('images.txt', 'utf8');

foods.forEach(element => {
    // if(element in imagesLines)
    if(!imagesLines.includes(element)){
        let promise = client.search(element, options)
            .then(images => {
                // something's not working when the name is 3 words
                links.push(element.toLowerCase().replace(" ", "_") + "|" + images[2].url);
            })
            .catch(error => console.log(error));
        promises.push(promise);
    }
});

Promise.all(promises)
    .then(() => {
        console.log(links);
        console.log("Done");

        fs.writeFile("images.txt", links.join("\n"), (err) => {
            if (err) throw err;
        })
    });